!function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t():e.jeDate=t()}(this,function(){if($&&$.fn&&$.fn.jquery){var jet={},doc=document,regymdzz="YYYY|MM|DD|hh|mm|ss|zz",gr=/\-/g,regymd="YYYY|MM|DD|hh|mm|ss|zz".replace("|zz",""),parseInt=function(e){return window.parseInt(e,10)},config={skinCell:"jedateblue",languageCN:{name:"cn",month:["01","02","03","04","05","06","07","08","09","10","11","12"],weeks:["日","一","二","三","四","五","六"],times:["小时","分钟","秒数"],titText:"请选择日期时间",clear:"清空",today:"现在",yes:"确定",close:"关闭"},languageEN:{name:"en",month:["01","02","03","04","05","06","07","08","09","10","11","12"],weeks:["SUN","MON","TUR","WED","THU","FRI","SAT"],times:["Hour","Minute","Second"],titText:"Please select the time",clear:"Clear",today:"Now",yes:"set",close:"Close"},range:!1,trigger:"click",format:"YYYY-MM-DD hh:mm:ss",minDate:"1900-01-01 00:00:00",maxDate:"2099-12-31 23:59:59",isClear:!0,formatType:"dateTime",inputName:["startTime","stopTime"]};$.fn.jeDate=function(e){return new jeDate($(this),e||{})},$.extend({jeDate:function(e,t){return new jeDate($(e),t||{})}}),jet.isObj=function(e){for(var t in e)return!0;return!1},jet.reMatch=function(e){return e.match(/\w+|d+/g)},jet.docScroll=function(e){return e=e?"scrollLeft":"scrollTop",document.body[e]|document.documentElement[e]},jet.docArea=function(e){return document.documentElement[e?"clientWidth":"clientHeight"]},jet.isLeap=function(e){return e%100!=0&&e%4==0||e%400==0},jet.digit=function(e){return e<10?"0"+(0|e):e},jet.isNum=function(e){return!!/^[+-]?\d*\.?\d*$/.test(e)},jet.getDaysNum=function(e,t){var a=31;switch(parseInt(t)){case 2:a=jet.isLeap(e)?29:28;break;case 4:case 6:case 9:case 11:a=30}return a},jet.getYM=function(e,t,a){var n=new Date(e,t-1);return n.setMonth(t-1+a),{y:n.getFullYear(),m:n.getMonth()+1}},jet.prevMonth=function(e,t,a){return jet.getYM(e,t,0-(a||1))},jet.nextMonth=function(e,t,a){return jet.getYM(e,t,a||1)},jet.parse=function(e,t){return t.replace(new RegExp(regymdzz,"g"),function(t,a){return"zz"==t?"00":jet.digit(e[t])})},jet.isparmat=function(e){var t=jet.reMatch(e),a=regymdzz.split("|"),n=[];return $.each(a,function(e,a){$.each(t,function(e,t){a==t&&n.push(t)})}),n.join("-")},jet.parseOld=function(e,t,a){e=e.concat(t);var n={},i=(regymdzz.split("|"),jet.reMatch(a));return $.each(e,function(e,t){n[i[e]]=parseInt(t)}),a.replace(new RegExp(regymdzz,"g"),function(e,t){return"zz"==e?"00":jet.digit(n[e])})},jet.checkFormat=function(e){var t=[];return e.replace(new RegExp(regymdzz,"g"),function(e,a){t.push(e)}),t.join("-")},jet.splMatch=function(e){var t=e.split(" ");return jet.reMatch(t[0])},jet.mlen=function(e){var t=e.match(/\w+|d+/g).length;return"hh"==e.substring(0,2)&&t<=3?7:t},jet.checkDate=function(e){var t=jet.reMatch(e);if(isNaN(t[0])||isNaN(t[1])||isNaN(t[2]))return!1;if(t[1]>12||t[1]<1)return!1;if(t[2]<1||t[2]>31)return!1;if((4==t[1]||6==t[1]||9==t[1]||11==t[1])&&t[2]>30)return!1;if(2==t[1]){if(t[2]>29)return!1;if((t[0]%100==0&&t[0]%400!=0||t[0]%4!=0)&&t[2]>28)return!1}return!0},jet.GetDateTime=function(e,t){t=t||"YYYY-MM-DD hh:mm:ss";var a=$.extend({YYYY:null,MM:null,DD:null,hh:0,mm:0,ss:0},e),n={YYYY:"FullYear",MM:"Month",DD:"Date",hh:"Hours",mm:"Minutes",ss:"Seconds"},i=(new DateTime).reDate();return $.each(["ss","mm","hh","DD","MM","YYYY"],function(e,t){if(!jet.isNum(parseInt(a[t])))return null;var s=i.GetValue();(parseInt(a[t])||0==parseInt(a[t]))&&s["set"+n[t]](i["Get"+n[t]]()+("MM"==t?-1:0)+parseInt(a[t]))}),jet.parse({YYYY:i.GetFullYear(),MM:i.GetMonth(),DD:i.GetDate(),hh:i.GetHours(),mm:i.GetMinutes(),ss:i.GetSeconds()},t)},jet.isValHtml=function(e){return/textarea|input/.test(e[0].tagName.toLocaleLowerCase())},jet.isBool=function(e){return null==e||1==e};var searandom=function(){for(var e="",t=[1,2,3,4,5,6,7,8,9,0],a=0;a<8;a++)e+=t[Math.round(Math.random()*(t.length-1))];return e},jedfn=jeDate.prototype,jefix="jefixed",matArr=jet.reMatch(regymdzz);return jedfn.initdates=function(){var e=this.opts.formatType?this.opts.formatType:config.formatType;if($.getCookie("pref-format"))if("zh-CN"==$.getCookie("pref-format"))switch(e){case"date":this.format="YYYY-MM-DD";break;case"time":this.format="hh:mm:ss";break;case"yearStr":this.format="YYYY";break;case"yearMonthStr":this.format="YYYY-MM";break;case"dateStr":this.format="YYYY-MM-DD";break;default:this.format="YYYY-MM-DD hh:mm:ss"}else switch(e){case"date":this.format="DD-MM-YYYY";break;case"time":this.format="hh:mm:ss";break;case"yearStr":this.format="YYYY";break;case"yearMonthStr":this.format="MM-YYYY";break;case"dateStr":this.format="DD-MM-YYYY";break;default:this.format="DD-MM-YYYY hh:mm:ss"}else if($.getCookie("pref-lang"))if("zh-CN"==$.getCookie("pref-lang"))switch(e){case"date":this.format="YYYY-MM-DD";break;case"time":this.format="hh:mm:ss";break;default:this.format="YYYY-MM-DD hh:mm:ss"}else switch(e){case"date":this.format="DD-MM-YYYY";break;case"time":this.format="hh:mm:ss";break;default:this.format="DD-MM-YYYY hh:mm:ss"}else if($.getCookie("lang"))if("zh"==$.getCookie("lang"))switch(e){case"date":this.format="YYYY-MM-DD";break;case"time":this.format="hh:mm:ss";break;default:this.format="YYYY-MM-DD hh:mm:ss"}else switch(e){case"date":this.format="DD-MM-YYYY";break;case"time":this.format="hh:mm:ss";break;default:this.format="DD-MM-YYYY hh:mm:ss"}else if(-1!=(navigator.browserLanguage||navigator.languages[0]).toLowerCase().indexOf("zh"))switch(e){case"date":this.format="YYYY-MM-DD";break;case"time":this.format="hh:mm:ss";break;default:this.format="YYYY-MM-DD hh:mm:ss"}else switch(e){case"date":this.format="DD-MM-YYYY";break;case"time":this.format="hh:mm:ss";break;default:this.format="DD-MM-YYYY hh:mm:ss"}if(this.opts.format=this.format,this.opts.range){var t=this.opts.inputName?this.opts.inputName[0]:config.inputName[0],a=this.opts.inputName?this.opts.inputName[1]:config.inputName[1];this.valCell.siblings('input[name="'+a+'"]').remove(),this.valCell.siblings('input[name="'+t+'"]').remove(),this.valCell.after('<input type="text" style="display:none;" name="'+a+'">'),this.valCell.after('<input type="text" style="display:none;" name="'+t+'">')}else{t=this.opts.inputName?this.opts.inputName[0]:config.inputName[0];this.valCell.siblings('input[name="'+t+'"]').remove(),this.valCell.after('<input type="text" style="display:none;" name="'+t+'">')}var n=this,i=n.opts,s=(new Date,null!=i.trigger?i.trigger:config.trigger),r=null==i.zIndex?1e4:i.zIndex,o=null!=i.isinitVal&&0!=i.isinitVal,l="#jedatebox"+searandom(),h=jet.isBool(i.isShow);n.areaVal=[],i.range=i.range||config.range,n.fixed=jet.isBool(i.fixed),i.range&&/-/g.test(i.range)&&(i.range=i.range.replace(/-/g,"="));var m=function(e,t){var a=$("<div/>",{id:t.replace(/\#/g,""),class:"jedatebox "+(i.skinCell||config.skinCell)}),s=h?1==n.fixed?"absolute":"fixed":"relative";a.attr("author","chen guojun").css({"z-index":"#jedatebox"!=t?"":r,position:s}),"#jedatebox"!=t&&a.attr({jeformat:i.format||config.format,jefixed:l});var o=config.minDate.split(" "),m=config.maxDate.split(" ");jet.minDate=(/\-/g.test(i.minDate)||null==i.minDate?i.minDate:o[0]+" "+i.minDate)||config.minDate,jet.maxDate=(/\-/g.test(i.maxDate)||null==i.maxDate?i.maxDate:m[0]+" "+i.maxDate)||config.maxDate,jet.boxelem=h?"#jedatebox":t,n.format=h?i.format||config.format:a.attr("jeformat");var c=n.getValue({});$(e).append(a),n.renderHtml(c[0].YYYY,c[0].MM,c[0].DD,i,jet.boxelem)};if(o&&s){var c,u=i.initDate||[];if(u[1]){var g=jet.reMatch(jet.GetDateTime(u[0]));c=[{YYYY:g[0],MM:jet.digit(g[1]),DD:jet.digit(g[2]),hh:jet.digit(g[3]),mm:jet.digit(g[4]),ss:jet.digit(g[5])}]}else c=n.getValue(jet.isObj(u[0])?u[0]:{});n.setValue(c[0],i.format||config.format)}if(h){var d=["body","#jedatebox"];s?n.valCell.on(s,function(e){e.stopPropagation(),$(d[1]).length>0||m(d[0],d[1])}):m(d[0],d[1])}else m(n.valCell,l)},jedfn.parseFormat=function(e,t){return jet.parse(e,t)},jedfn.parseValue=function(e,t){var a=this,n=[],i=a.opts,s="",r=$(jet.boxelem),o=null==t?$(r.attr(jefix)).length>0?r.attr("jeformat"):a.format:t,l=$.isFunction(e)?e():e;if(""!=l||l.length>0){var h=0!=i.range,m=new Array(h?2:1);$.each(m,function(e){var t=2==m.length,s={},r=jet.reMatch(o),h=t?l.split(i.range):l;t&&$.each(jet.reMatch(h[e]),function(e,t){s[7==jet.mlen(a.format)?r[e]:matArr[e]]=t}),n.push(a.parseFormat(t?s:h,o)),s={}}),s=n.join(h?i.range:"")}return s},jedfn.setValue=function(e,t,a){var n,i=this.valCell;if("string"==typeof e&&""!=e&&0==this.opts.range){var s=jet.reMatch(e),r={};$.each(jet.reMatch(this.format),function(e,t){r[t]=parseInt(s[e])}),n=r}else n=e;var o=jet.isValHtml(i)?"val":"text",l=this.parseValue(n,t),h=this.opts.formatType?this.opts.formatType:config.formatType;if("yearStr"==h||"yearMonthStr"==h||"dateStr"==h)if("DD-MM-YYYY"==this.format||"MM-YYYY"==this.format)if(this.opts.range)var m=l.split(this.opts.range),c=[m[0].split("-").reverse().join("-"),m[1].split("-").reverse().join("-")];else c=l.split("-").reverse().join("-");else if(this.opts.range&&"YYYY"==this.format)c=l.split(this.opts.range);else if(this.opts.range)c=l.split(this.opts.range);else c=l;if(/YYYY-MM/.test(this.format)&&(l=l.replace(/-0/g,"-")),l&&"hh:mm:ss"!==this.format){var u=-(new Date).getTimezoneOffset()/60,g=-(new Date).getTimezoneOffset()/60;if($.getCookie("pref-timezone")){var d=$.getCookie("pref-timezone").split(":");g=parseInt(d[0])>=0?parseInt(d[0])+parseInt(d[1])/60:parseInt(d[0])+-parseInt(d[1])/60}var p=36e5*(g-u);if(/hh|mm|ss/g.test(this.opts.format))if(this.opts.range){var f=l.split(this.opts.range),v=1e3*$.timeStampDate(f[0],this.format)-p,Y=1e3*$.timeStampDate(f[1],this.format)-p;i.attr("data-start",v),i.attr("data-end",Y);var j=this.opts.inputName?this.opts.inputName[0]:config.inputName[0],y=this.opts.inputName?this.opts.inputName[1]:config.inputName[1];i.siblings('input[name="'+j+'"]').val(v),i.siblings('input[name="'+y+'"]').val(Y)}else{var M=1e3*$.timeStampDate(l,this.format)-p;i.attr("data-day",M);j=this.opts.inputName?this.opts.inputName[0]:config.inputName[0];i.siblings('input[name="'+j+'"]').val(M)}else if(this.opts.range)if("yearStr"==h||"yearMonthStr"==h||"dateStr"==h){i.attr("data-start",c[0]),i.attr("data-end",c[1]);j=this.opts.inputName?this.opts.inputName[0]:config.inputName[0],y=this.opts.inputName?this.opts.inputName[1]:config.inputName[1];i.siblings('input[name="'+j+'"]').val(c[0]),i.siblings('input[name="'+y+'"]').val(c[1])}else{f=l.split(this.opts.range),v=1e3*$.timeStampDate(f[0],this.format)-p,Y=1e3*$.timeStampDate(f[1],this.format)+(864e5-1)-p;i.attr("data-start",v),i.attr("data-end",Y);j=this.opts.inputName?this.opts.inputName[0]:config.inputName[0],y=this.opts.inputName?this.opts.inputName[1]:config.inputName[1];i.siblings('input[name="'+j+'"]').val(v),i.siblings('input[name="'+y+'"]').val(Y)}else if("yearStr"==h||"yearMonthStr"==h||"dateStr"==h){i.attr("data-day",c);j=this.opts.inputName?this.opts.inputName[0]:config.inputName[0];i.siblings('input[name="'+j+'"]').val(c)}else{M=1e3*$.timeStampDate(l,this.format)-p;i.attr("data-day",M);j=this.opts.inputName?this.opts.inputName[0]:config.inputName[0];i.siblings('input[name="'+j+'"]').val(M)}}if(l&&"hh:mm:ss"===this.format){u=-(new Date).getTimezoneOffset()/60,g=-(new Date).getTimezoneOffset()/60;if($.getCookie("pref-timezone")){d=$.getCookie("pref-timezone").split(":");g=parseInt(d[0])>=0?parseInt(d[0])+parseInt(d[1])/60:parseInt(d[0])+-parseInt(d[1])/60}p=36e5*(g-u);var D=new Date,x=D.getFullYear(),C=D.getMonth()+1;C=C<10?"0"+C:C;var b=D.getDate(),w=x+"/"+C+"/"+(b=b<10?"0"+b:b);if(this.opts.range){var k=w+","+(f=l.split(this.opts.range))[0],I=w+","+f[1];v=new Date(k).getTime()-p,Y=new Date(I).getTime()-p;i.attr("data-start",v),i.attr("data-end",Y);j=this.opts.inputName?this.opts.inputName[0]:config.inputName[0],y=this.opts.inputName?this.opts.inputName[1]:config.inputName[1];i.siblings('input[name="'+j+'"]').val(v),i.siblings('input[name="'+y+'"]').val(Y)}else{M=new Date(w+","+l).getTime()-p;i.attr("data-day",M);j=this.opts.inputName?this.opts.inputName[0]:config.inputName[0];i.siblings('input[name="'+j+'"]').val(M)}}return l=l.replace(/-/g,"/"),this.opts.range&&(l=l.replace(/=/g,"-")),0!=a&&i[o](l),l},jedfn.getValue=function(e){var t,a=this.valCell,n=this.opts,i=(new DateTime).reDate(),s=i.GetFullYear(),r=i.GetMonth(),o=i.GetDate(),l=i.GetHours(),h=i.GetMinutes(),m=i.GetSeconds();if(null==e&&jet.isBool(n.isShow)){t=a[jet.isValHtml(a)?"val":"text"]()}else{var c=jet.isBool(n.isShow)?""==this.getValue():!jet.isBool(n.isShow),u=$.extend({YYYY:null,MM:null,DD:null},e||{}),g=[],d=new Array(2),p=function(e){return[null==u[e]||null==u[e],u[e]]},f=[{YYYY:s,MM:r,DD:o,hh:l,mm:h,ss:m,zz:0},{YYYY:s,MM:r,DD:o,hh:l,mm:h,ss:m,zz:0}];if(c)$.each(d,function(e){var t={};$.each(matArr,function(a,n){t[n]=parseInt(p(n)[0]?f[e][n]:p(n)[1])}),g.push($.extend(f[e],t))});else{if(n.range)if(/=/g.test(n.range))var v=n.range.replace(/=/g,"-");else v=n.range;var Y=0!=n.range,j=this.getValue(),y=j.split(v),M=jet.reMatch(this.format);$.each(d,function(t){var a={},n=Y?jet.reMatch(y[t]):jet.reMatch(j);$.each(M,function(e,t){a[t]=parseInt(n[e])});var i=$.extend(a,e||{});g.push($.extend(f[t],i))})}t=g}return t},jedfn.renderHtml=function(e,t,a,n,i){var s,r=this,o=$(i),l=0!=n.range,h=jet.isBool(n.isShow);$.getCookie("pref-lang")?s="zh-CN"==$.getCookie("pref-lang")?config.languageCN:config.languageEN:s=$.getCookie("lang")?"zh"==$.getCookie("lang")?config.languageCN:config.languageEN:-1!=(navigator.browserLanguage||navigator.languages[0]).toLowerCase().indexOf("zh")?config.languageCN:config.languageEN;var m=jet.minDate.replace(/\s+/g," ").split(" "),c=jet.maxDate.replace(/\s+/g," ").split(" "),u=r.getValue({YYYY:e,MM:t,DD:a}),g=u[0],d=u[1];r.format=h?r.format:o.attr("jeformat");var p=jet.mlen(r.format),f=/\hh/.test(r.format),v="cn"==s.name?h?s.clear:"重置":h?s.clear:"Reset",Y="<div class='arthead'></div><div class='artcont'></div>",j=$("<div/>",{class:"maincont"}),y=$("<div/>",{class:"mainfoot"}),M=$("<div/>",{class:"daybox"}).append(Y),D=$("<div/>",{class:"ymsbox"}).append(Y),x=$("<div/>",{class:"timebox"}).append(Y);j.append(D).append(M).append(1==p||2==p?"":x),o.empty().append(j.children().hide()).append(y);if(null!=r.opts.isClear?r.opts.isClear:config.isClear)var C='<span class="clear">'+v+'</span><span class="today">'+s.today+'</span><span class="setok">'+s.yes+"</span>";else C='<span class="today">'+s.today+'</span><span class="setok">'+s.yes+"</span>";var b,w=$("<div/>",{class:"timecon"}).append((b="<em></em><i>:</i><em></em><i>:</i><em></em>",l?b+"<span> ~ </span>"+b:b)),k=$("<div/>",{class:"btnscon"}).append(C);if(y.append(w).append(k),o.append($("<div/>",{class:"jedate-tips"}).hide()),r.maincon=function(e,t){return o.find(e+" > "+(0==t?".arthead":".artcont"))},f){var I=/\s/.test(jet.minDate)?m[1]:m[0],N=(/\s/.test(jet.maxDate)?c[1]:c[0],jet.reMatch(I)),z=[g.hh,g.mm,g.ss],S=[];S=l?""==r.getValue()?7==p?N.concat(N):N.concat([0,0,0]):z.concat([d.hh,d.mm,d.ss]):z,$.each(y.find(".timecon em"),function(e,t){$(this).text(jet.digit(S[e]))})}else y.find(".timecon").hide();7==p?(r.maincon(".timebox",0).html(s.titText),o.find(".timebox").show(),r.eachHms(n,o)):p>=3&&p<=6&&(r.maincon(".daybox",0).append('<em class="yearprev yprev"></em><em class="monthprev mprev"></em><em class="monthnext mnext"></em><em class="yearnext ynext"></em>'),o.find(".daybox").show(),r.eachDays(g.YYYY,g.MM,g.DD,n,o),f&&(r.maincon(".timebox",1).attr("cont","no"),r.maincon(".timebox",0).html(s.titText+'<em class="close"></em>'),o.find(".timecon").on("click",function(){"no"==r.maincon(".timebox",1).attr("cont")&&(r.maincon(".timebox",1).attr("cont","yes"),o.find(".ymsbox,.daybox").hide(),o.find(".timebox").show(),r.eachHms(n,o),r.dateOrien(o,r.valCell))}),r.maincon(".timebox",0).on("click",".close",function(){r.maincon(".timebox",1).html("").attr("cont","no"),o.find(".ymsbox,.timebox").hide(),o.find(".daybox").show(),r.dateOrien(o,r.valCell)}),w.css({cursor:"pointer"})),r.maincon(".ymsbox",0).append('<em class="yearprev yprev"></em><em class="yearnext ynext"></em><em class="close"></em>').addClass("ymfix"),r.eachYM(g.YYYY,g.MM,n,o,".fixcon")),1!=p&&2!=p||(r.maincon(".ymsbox",0).append('<em class="yearprev yprev"></em><em class="yearnext ynext"></em>'),o.find(".ymsbox").show(),r.eachYM(g.YYYY,g.MM,n,o,".jedate-cont")),jet.isBool(n.isTime)&&h||y.find(".timecon").hide(),h||y.find(".today").hide(),r.eventsDate(n,o),setTimeout(function(){n.success&&n.success(o)},50)},jedfn.createYMHtml=function(e,t,a){var n,i,s=parseInt(e),r=parseInt(t),o=this.maincon(".daybox",0),l=$("<p/>").css({width:jet.isBool(a.multiPane)?"":"50%"});$.getCookie("pref-lang")?i="zh-CN"==$.getCookie("pref-lang")?config.languageCN:config.languageEN:i=$.getCookie("lang")?"zh"==$.getCookie("lang")?config.languageCN:config.languageEN:-1!=(navigator.browserLanguage||navigator.languages[0]).toLowerCase().indexOf("zh")?config.languageCN:config.languageEN;if("cn"==i.name)n="<span class='ymbtn'>"+r+"月 "+s+"年</span>";else{n="<span class='ymbtn'>"+["Jan.","Feb.","Mar.","Apr.","May.","Jun.","Jul.","Aug.","Sep.","Oct.","Nov.","Dec."][r-1]+" "+s+"</span>"}return o.append(l.html(n)),s+"-"+r},jedfn.eachYM=function(y,m,opts,boxCell,clsCell){var that=this,yearArr=new Array(15),date=new Date,lang,ymscon=that.maincon(".ymsbox",1),multiPane=jet.isBool(opts.multiPane),mlens=jet.mlen(that.format),ymarr=that.getValue({}),testhh=/\hh/.test(that.format),formatYY=1==mlens;if($.getCookie("pref-lang"))lang="zh-CN"==$.getCookie("pref-lang")?config.languageCN:config.languageEN;else if($.getCookie("lang"))lang="zh"==$.getCookie("lang")?config.languageCN:config.languageEN;else{var userLanguage=(navigator.browserLanguage||navigator.languages[0]).toLowerCase();lang=-1!=userLanguage.indexOf("zh")?config.languageCN:config.languageEN}ymscon.find(".ymcon").length>0&&ymscon.find(".ymcon").remove(),$.each(new Array(multiPane?1:2),function(s){var retSetCls=function(sym,gym,eym){var sval=sym.replace(gr,""),gval=gym.replace(gr,""),eval=eym.replace(gr,"");return/YYYY-MM-DD/g.test(jet.isparmat(that.format))?parseInt(sval)==parseInt(gval)&&0==s?"actdate":"":parseInt(sval)==parseInt(gval)?(testhh||(that.areaVal.push(sym),that.areaStart=!0),"actdate"):parseInt(sval)>parseInt(gval)&&parseInt(sval)<parseInt(eval)?"contain":parseInt(sval)==parseInt(eval)?(testhh||(that.areaVal.push(sym),that.areaStart=!0),"actdate"):""},ymDiv=$("<div/>",{class:"ymcon"}).addClass(1==s?"spaer":""),ymArr=[];$.each(formatYY?yearArr:lang.month,function(e,t){var a,n=1==s?y+(formatYY?yearArr.length:1):y;if(e=1==s?formatYY?15+e:12+e:e,formatYY){var i=jet.splMatch(jet.minDate),r=jet.splMatch(jet.maxDate),o=i[0],l=r[0],h=n-7+e,m=""==that.getValue()&&jet.isBool(opts.isShow)?date.getFullYear():that.getValue();h<o||h>l?ymArr.push({style:"disabled",ym:h,idx:e}):(a=retSetCls(h.toString(),m.toString(),ymarr[1].YYYY.toString()),ymArr.push({style:a,ym:h,idx:e}))}else{i=jet.splMatch(jet.minDate),r=jet.splMatch(jet.maxDate);var c=parseInt(n+""+jet.digit(t)+"01"),u=parseInt(i[0]+""+jet.digit(i[1])+jet.digit(i[2])),g=parseInt(r[0]+""+jet.digit(r[1])+jet.digit(r[2]));if(c<u||c>g)ymArr.push({style:"disabled",ym:n+"-"+jet.digit(t),idx:e});else{var d=n+"-"+jet.digit(t),p=ymarr[0].YYYY+"-"+jet.digit(ymarr[0].MM);a=retSetCls(d,p,ymarr[1].YYYY+"-"+jet.digit(ymarr[1].MM)),ymArr.push({style:a,ym:n+"-"+jet.digit(t),idx:e})}}});var table=$("<table/>",{class:formatYY?"yul":"ymul"});$.each(new Array(formatYY?5:4),function(e){var t=$("<tr/>");$.each(new Array(3),function(){var e=$("<td/>");table.append(t.append(e))})}),$.each(ymArr,function(e,t){table.find("td").eq(e).addClass(t.style).attr({idx:t.idx,"je-val":t.ym}).html(t.ym)}),ymscon.append(ymDiv.append(table))});var contd=ymscon.find("td"),ymstit=that.maincon(".ymsbox",0),eqNum=formatYY?multiPane?14:29:multiPane?11:23,sval=contd.eq(0).text(),eval=contd.eq(eqNum).text(),mnx=[formatYY?sval:sval.substring(0,4),formatYY?eval:eval.substring(0,4)];ymstit.find("p").remove(),ymstit.append("<p>"+sval+" ~ "+eval+"</p>").attr({min:mnx[0],max:mnx[1]})},jedfn.dateRegExp=function(valArr){var enval=valArr.split(",")||[],re="",doExp=function(val){var arr,tmpEval,re=/#?\{(.*?)\}/;for(val+="";null!=(arr=re.exec(val));)arr.lastIndex=arr.index+arr[1].length+arr[0].length-arr[1].length-1,tmpEval=parseInt(eval(arr[1])),tmpEval<0&&(tmpEval="9700"+-tmpEval),val=val.substring(0,arr.index)+tmpEval+val.substring(arr.lastIndex+1);return val};if(enval&&enval.length>0){for(var i=0;i<enval.length;i++)re+=doExp(enval[i]),i!=enval.length-1&&(re+="|");re=re?new RegExp("(?:"+re+")"):null}else re=null;return re},jedfn.eachDays=function(e,t,a,n,i){var s,r=this,o=jet.isBool(n.isShow),l=parseInt(e),h=parseInt(t),m=r.valCell,c=n.valiDate||[],u=jet.reMatch(jet.minDate),g=parseInt(u[0]+""+jet.digit(u[1])+jet.digit(u[2])),d=jet.reMatch(jet.maxDate),p=parseInt(d[0]+""+jet.digit(d[1])+jet.digit(d[2]));if($.getCookie("pref-lang"))s="zh-CN"==$.getCookie("pref-lang")?config.languageCN:config.languageEN;else if($.getCookie("lang"))s="zh"==$.getCookie("lang")?config.languageCN:config.languageEN;else{var f=(navigator.browserLanguage||navigator.languages[0]).toLowerCase();s=-1!=f.indexOf("zh")?config.languageCN:config.languageEN}var v=jet.isBool(n.multiPane),Y=r.getValue(o?{}:{YYYY:e,MM:t,DD:a}),j=""!=(m.val()||m.text())&&0!=n.range,y=parseInt(Y[0].YYYY+""+jet.digit(Y[0].MM)+jet.digit(Y[0].DD)),M=function(e,t,a){var i=n.marks;return $.isArray(i)&&i.length>0&&function(e,t){for(var a=e.length;a--;)if(e[a]===t)return!0;return!1}(i,e+"-"+jet.digit(t)+"-"+jet.digit(a))?'<i class="marks"></i>':""},D=function(e,t,a){var i;if(1==n.festival&&"cn"==s.name){var o=r.jeLunar(e,t-1,a),l=o.solarFestival||o.lunarFestival;i='<p><span class="solar">'+a+'</span><span class="lunar">'+(""!=(l&&o.jieqi)?l:o.jieqi||o.showInLunar)+"</span></p>"}else i='<p class="nolunar">'+a+"</p>";return i},x=function(e,t,a,n){var i=parseInt(e+""+jet.digit(t)+jet.digit(a));if(n){if(i>=g&&i<=p)return!0}else if(g>i||p<i)return!0},C=new Array(v?1:2),b=h+1>12,w=[];$.each(C,function(e,t){var a=$("<table/>",{class:"daysul"}),i=$("<thead/>"),o=$("<tbody/>"),m=1==e?42:0;a.append(i).append(o),$.each(new Array(7),function(e){var t=$("<tr/>");$.each(new Array(7),function(){var a=$("<th/>"),n=$("<td/>");t.append(0==e?a:n.attr("idx",m++)),0==e?i.append(t):o.append(t)})});var u=b&&1==e?l+1:l,g=b&&1==e?1:1==e?h+1:h,d=function(e,t){for(var a=0,n=[],i=new Date(e,t-1,1).getDay()||7,s=jet.getDaysNum(e,t),o=0,l=jet.prevMonth(e,t),h=jet.getDaysNum(e,l.m),m=jet.nextMonth(e,t),c=h-i+1;c<=h;c++,a++){var u=M(l.y,l.m,c),g=x(l.y,l.m,c,!1)?"disabled":"other";n.push({style:g,ymd:l.y+"-"+l.m+"-"+c,day:c,d:D(l.y,l.m,c)+u,idx:o++})}for(var d=1;d<=s;d++,a++){var p=M(e,t,d),f=(g="",parseInt(e+""+jet.digit(t)+jet.digit(d))),v=parseInt(Y[1].YYYY+""+jet.digit(Y[1].MM)+jet.digit(Y[1].DD)),$=f>y,C=f<v;x(e,t,d,!0)?f==y?(g="actdate",r.areaVal.push(e+"-"+jet.digit(t)+"-"+jet.digit(d)),r.areaStart=!0):$&&C&&j?g="contain":f==v&&j?(g="actdate",r.areaVal.push(e+"-"+jet.digit(t)+"-"+jet.digit(d)),r.areaEnd=!0):g="":g="disabled",n.push({style:g,ymd:e+"-"+t+"-"+d,day:d,d:D(e,t,d)+p,idx:o++})}for(var b=1,w=42-a;b<=w;b++){var k=M(m.y,m.m,b);g=x(m.y,m.m,b,!1)?"disabled":"other",n.push({style:g,ymd:m.y+"-"+m.m+"-"+b,day:b,d:D(m.y,m.m,b)+k,idx:o++})}return n}(u,g),p=$("<div/>",{class:"contlist"});$.each(s.weeks,function(e,t){a.find("th").eq(e).text(t)}),w.push(r.createYMHtml(u,g,n)),$.each(d,function(e,t){var n=t.style;if(c.length>0&&""!=c[0])if(/\%/g.test(c[0])){var i=c[0].replace(/\%/g,"").split(","),s=[];$.each(i,function(e,t){s.push(jet.digit(parseInt(t)))});var o=-1==$.inArray(jet.digit(t.day),s);n=jet.isBool(c[1])?o?"disabled":n:o?n:"disabled"}else{var l=r.dateRegExp(c[0]).test(jet.digit(t.day));n=jet.isBool(c[1])?l?"disabled":t.style:l?t.style:"disabled"}a.find("td").eq(e).addClass(n).attr("je-val",function(e){var t=jet.reMatch(e),a=[];return $.each(t,function(e,t){a.push(jet.digit(t))}),a.join("-")}(t.ymd)).html(t.d)}),r.maincon(".daybox",1).append(p.append(a)).addClass(1==e?"spaer":"")}),r.maincon(".daybox",0).attr("je-ym",w.join(","))},jedfn.eachHms=function(e,t){var a,n=jet.isBool(e.multiPane),i=this.getValue({}),s=""==this.getValue(),r=0==e.range,o=jet.minDate.replace(/\s+/g," ").split(" "),l=jet.maxDate.replace(/\s+/g," ").split(" "),h=/YYYY-MM-DD/g.test(jet.isparmat(this.format))&&/\hh/.test(this.format);if($.getCookie("pref-lang"))a="zh-CN"==$.getCookie("pref-lang")?config.languageCN:config.languageEN;else if($.getCookie("lang"))a="zh"==$.getCookie("lang")?config.languageCN:config.languageEN;else{var m=(navigator.browserLanguage||navigator.languages[0]).toLowerCase();a=-1!=m.indexOf("zh")?config.languageCN:config.languageEN}var c=jet.reMatch(o[1]),u=jet.reMatch(l[1]),g=this.maincon(".timebox",1),d=["action","disabled"],p=t.find(".mainfoot .timecon em"),f=new Date,v=f.getHours(),Y=f.getMinutes(),j=f.getSeconds(),y=[i[0].hh||v,i[0].mm||Y,i[0].ss||j],M=[i[1].hh||v,i[1].mm||Y,i[1].ss||j];if(!(0==e.range&&t.find(".timelist").length>0)){$.each(new Array(r?1:2),function(t){var i=$("<div/>",{class:"timelist"}).css({width:r?"100%":"50%",float:r?"":"left"}),o=$("<div/>",{class:"contime"}),l=$("<div/>",{class:"textbox"}).append("<p>"+a.times[0]+"</p><p>"+a.times[1]+"</p><p>"+a.times[2]+"</p>");i.append(l),g.addClass(1==t?"spaer":""),$.each([24,60,60],function(a,n){for(var r="",l=$("<ul/>").attr("idx",1==t?3+a:a),m=p.eq(a).text(),f=0;f<n;f++){var v=$("<li/>");r=0!=e.range?h?0==t?f>=c[a]?f==(s?c[a]:y[a])?d[0]:"":d[1]:f>u[a]?d[1]:f==(s?0:M[a])?d[0]:"":f>=c[a]?f==(s?c[a]:0==t?y[a]:M[a])?d[0]:"":d[1]:f>=c[a]&&f<=u[a]?m<c[a]?f==c[a]?d[0]:"":m>u[a]?f==u[a]?d[0]:"":f==m?d[0]:"":d[1],v.text(jet.digit(f)).addClass(r),g.append(i.append(o.append(l.append(v))))}}),0==n&&r&&i.css({"padding-left":i.outerWidth()/2+12,"padding-right":i.outerWidth()/2+12})}),this.locateScroll(g.find("ul")),this.clickTime(e,t);var D=[];$.each(c,function(e,t){parseInt(t)>parseInt(u[e])&&D.push("不能大于最大"+a.times[e])}),D.length>0&&this.tips(D.join("<br/>"),4.5)}},jedfn.eventsDate=function(e,t){var a=this;jet.isBool(e.multiPane);if(a.clickYM(e,t),a.clickDays(e,t),a.clickBtn(e,t),jet.isBool(e.isShow)){var n=e.position||[];n.length>0?t.css({top:n[0],left:n[1]}):(a.dateOrien(t,a.valCell),$(window).on("resize",function(){a.dateOrien(t,a.valCell)}))}$(document).on("mouseup",function(e){if(e.stopPropagation(),"#jedatebox"==jet.boxelem){var t=$(jet.boxelem);t&&"none"!==t.css("display")&&a.dateClose(),$("#jedatetipscon").length>0&&$("#jedatetipscon").remove(),delete a.areaStart,delete a.areaEnd,a.areaVal=[]}}),$(jet.boxelem).on("mouseup",function(e){e.stopPropagation()})},jedfn.clickYM=function(e,t){var a,n=this,i=n.maincon(".ymsbox",0),s=n.valCell,r=i.find(".yprev"),o=i.find(".ynext"),l=n.maincon(".daybox",0),h=jet.isBool(e.isShow),m=l.find(".yprev"),c=l.find(".ynext"),u=l.find(".mprev"),g=l.find(".mnext"),d=jet.mlen(n.format),p=2==d,f=1==d,v=["actdate","contain"],Y=new Date;if(p||f?((a=n.maincon(".ymsbox",1).find(".ymcon").find("td")).on("click",function(){var t=$(this),i=t.attr("je-val");t.hasClass("disabled")||(0==e.range?(a.removeClass(v[0]),t.addClass(v[0]),n.maincon(".ymsbox",0).attr("data-val",t.text())):n.areaStart&&null==n.areaEnd?(t.addClass(v[0]),n.areaEnd=!0,n.areaVal.push(i),a.each(function(){var e=$(this),t=e.attr("je-val").replace(gr,""),a=[n.areaVal[0].replace(gr,""),n.areaVal[1].replace(gr,"")],i=Math.min.apply(null,a),s=Math.max.apply(null,a);e.hasClass("other")||parseInt(t)>parseInt(i)&&parseInt(t)<parseInt(s)&&e.addClass(v[1])})):n.areaStart&&n.areaEnd&&(n.delAreaAttr(),a.removeClass(v[0]).removeClass(v[1]),t.addClass(v[0]),n.areaVal.push(i),n.areaStart=!0))}),$.each([r,o],function(a,i){i.on("click",function(i){var r=$(this),o=Y.getMonth()+1,l=parseInt(r.parent().attr("min")),h=parseInt(r.parent().attr("max")),m=f?0==a?l:h:0==a?--l:++h;if(n.renderHtml(m,o,null,e,t),0==e.range){var c=f?{YYYY:m}:{YYYY:m,MM:o},u=n.parseValue(c),g={YYYY:m,MM:o,DD:Y.getDate(),hh:Y.getHours(),mm:Y.getMinutes(),ss:Y.getSeconds()};$.isFunction(e.toggle)&&e.toggle(s,u,g)}})})):($.each([m,c],function(a,i){i.on("click",function(i){i.stopPropagation();var r=jet.reMatch($(this).parent().attr("je-ym")),o=parseInt(r[0]),l=parseInt(r[1]),h=0==a?--o:++o;if(n.renderHtml(h,l,null,e,t),0==e.range){var m=n.getValue({})[0],c=n.parseValue({YYYY:h,MM:l,DD:m.DD}),u={YYYY:h,MM:l,DD:Y.getDate(),hh:Y.getHours(),mm:Y.getMinutes(),ss:Y.getSeconds()};$.isFunction(e.toggle)&&e.toggle({elem:s,val:c,date:u})}})}),$.each([u,g],function(a,i){i.on("click",function(i){i.stopPropagation();var r=jet.reMatch($(this).parent().attr("je-ym")),o=parseInt(r[0]),l=parseInt(r[1]),h=jet.prevMonth(o,l),m=jet.nextMonth(o,l);0==a?n.renderHtml(h.y,h.m,null,e,t):n.renderHtml(m.y,m.m,null,e,t);var c=0==a?h.y:m.y,u=0==a?h.m:m.m;if(0==e.range){var g=n.getValue({})[0],d=n.parseValue({YYYY:c,MM:u,DD:g.DD}),p={YYYY:c,MM:u,DD:Y.getDate(),hh:Y.getHours(),mm:Y.getMinutes(),ss:Y.getSeconds()};$.isFunction(e.toggle)&&e.toggle({elem:s,val:d,date:p})}})})),d>=3&&d<=6){n.maincon(".daybox",0).on("click",".ymbtn",function(e){t.children(".ymsbox").show(),t.children(".daybox,.mainfoot").hide(),h&&n.dateOrien(t,n.valCell)});var j=function(){var a=t.find(".ymcon").find("td");a.on("click",function(){var i=$(this),s=jet.reMatch(i.attr("je-val"));a.removeClass(v[0]),i.addClass(v[0]),t.children(".jedate-contfix").show(),t.children(".jedate-jedatewrap").hide(),n.renderHtml(s[0],s[1],null,e,t)})};$.each([r,o],function(a,i){i.on("click",function(i){var s=Y.getMonth()+1,r=parseInt($(this).parent().attr("min")),o=parseInt($(this).parent().attr("max")),l=f?0==a?r:o:0==a?--r:++o;n.eachYM(l,s,e,t,".jedate-contfix"),j(),h&&n.dateOrien(t,n.valCell),$.isFunction(e.toggle)&&e.toggle()})}),i.on("click",".close",function(e){t.children(".daybox,.mainfoot").show(),t.children(".ymsbox").hide(),h&&n.dateOrien(t,n.valCell)}),j()}},jedfn.gethmsVal=function(e){var t={};return e.find(".timecon em").each(function(e){null==$(this).attr("disabled")&&(t[matArr[3+e]]=$(this).text())}),t},jedfn.clickDays=function(e,t){var a,n=this,i=n.valCell,s=t.find(".daysul").find("td"),r=["actdate","contain"];$.getCookie("pref-lang")?a="zh-CN"==$.getCookie("pref-lang")?config.languageCN:config.languageEN:a=$.getCookie("lang")?"zh"==$.getCookie("lang")?config.languageCN:config.languageEN:-1!=(navigator.browserLanguage||navigator.languages[0]).toLowerCase().indexOf("zh")?config.languageCN:config.languageEN;s.on("click",function(a){var o=$(this),l=o.attr("je-val"),h=jet.reMatch(l),m=[];if(!o.hasClass("disabled")){a.stopPropagation();0==e.range?function(){if($.each(h,function(e,t){m.push(parseInt(t))}),$(t.attr(jefix)).length>0)n.renderHtml(m[0],m[1],m[2],e,t);else if(jet.isBool(e.onClose))s.removeClass(r[0]),o.addClass(r[0]);else{var a={},l=jet.reMatch(o.attr("je-val"));$.each(l,function(e,t){a[matArr[e]]=t});var c=/\hh/.test(n.format)?$.extend(a,n.gethmsVal(t)):a,u=n.setValue(c);n.dateClose(),($.isFunction(e.okfun)||null!=e.okfun)&&e.okfun&&e.okfun({elem:i,val:u,date:c})}}():n.areaStart&&null==n.areaEnd?(o.addClass(r[0]),n.areaEnd=!0,n.areaVal.push(l),s.each(function(){var e=$(this),t=e.attr("je-val").replace(gr,""),a=[n.areaVal[0].replace(gr,""),n.areaVal[1].replace(gr,"")],i=Math.min.apply(null,a),s=Math.max.apply(null,a);e.hasClass("other")||e.hasClass("disabled")||parseInt(t)>parseInt(i)&&parseInt(t)<parseInt(s)&&e.addClass(r[1])})):n.areaStart&&n.areaEnd&&(n.delAreaAttr(),s.removeClass(r[0]).removeClass(r[1]),o.addClass(r[0]),n.areaVal.push(l),n.areaStart=!0)}}),e.festival&&"cn"==a.name&&(t.addClass("grid"),s.on("mouseover",function(){$("#jedatetipscon").length>0&&$("#jedatetipscon").remove();var t=$(this),a=jet.reMatch(t.attr("je-val")),i=$("<div/>",{id:"jedatetipscon",class:"jedatetipscon"}),s=n.jeLunar(parseInt(a[0]),parseInt(a[1])-1,parseInt(a[2])),r="<p>"+s.solarYear+"年"+s.solarMonth+"月"+s.solarDate+"日 "+s.inWeekDays+'</p><p class="red">农历：'+s.shengxiao+"年 "+s.lnongMonth+"月"+s.lnongDate+"</p><p>"+s.ganzhiYear+"年 "+s.ganzhiMonth+"月 "+s.ganzhiDate+"日</p>",o=""!=(s.solarFestival||s.lunarFestival)?'<p class="red">节日：'+s.solarFestival+s.lunarFestival+"</p>":"",l=""!=s.jieqi?'<p class="red">'+(""!=s.jieqi?"节气："+s.jieqi:"")+"</p>":"",h=""!=(s.solarFestival||s.lunarFestival||s.jieqi)?o+l:"";$("body").append(i),i.html(r+h);var m=jedfn.lunarOrien(i,t);i.css({"z-index":null==e.zIndex?10005:e.zIndex+5,top:m.top,left:m.left,position:"absolute",display:"block"})}).on("mouseout",function(){$("#jedatetipscon").remove()}))},jedfn.clickBtn=function(e,t){var a=this,n=a.valCell,i=jet.isBool(e.isShow),s=7==jet.mlen(a.format),r=(jet.isBool(e.multiPane),2==jet.mlen(a.format)),o=1==jet.mlen(a.format);t.on("click",".clear",function(s){if(s.stopPropagation(),i){var r=jet.isValHtml(a.valCell)?"val":"text",o=a.valCell[r](),l=a.setValue("");a.dateClose(),""!=o&&(jet.isBool(e.clearRestore)&&(jet.minDate=e.startMin||jet.minDate,jet.maxDate=e.startMax||jet.maxDate),($.isFunction(e.clearfun)||null!=e.clearfun)&&e.clearfun({elem:n,val:l}))}else{var h=a.getValue({});a.renderHtml(h[0].YYYY,h[0].MM,h[0].DD,e,t)}a.opts.range?(n.attr("data-start",""),n.attr("data-end","")):n.attr("data-day",""),0!=e.range&&a.delAreaAttr()}),0!=e.range&&t.find(".today").hide(),t.on("click",".today",function(){var t=-(new Date).getTimezoneOffset()/60;(new Date).getTimezoneOffset();if($.getCookie("pref-timezone"))var i=$.getCookie("pref-timezone").split(":"),s=36e5*((parseInt(i[0])>=0?parseInt(i[0])+parseInt(i[1])/60:parseInt(i[0])+-parseInt(i[1])/60)-t),r=(new Date).getTime()+s,o={YYYY:(l=new Date(r)).getFullYear(),MM:jet.digit(l.getMonth()+1),DD:jet.digit(l.getDate()),hh:jet.digit(l.getHours()),mm:jet.digit(l.getMinutes()),ss:jet.digit(l.getSeconds())};else{var l;o={YYYY:(l=new Date).getFullYear(),MM:jet.digit(l.getMonth()+1),DD:jet.digit(l.getDate()),hh:jet.digit(l.getHours()),mm:jet.digit(l.getMinutes()),ss:jet.digit(l.getSeconds())}}var h=a.setValue(o);a.dateClose(),($.isFunction(e.okfun)||null!=e.okfun)&&e.okfun({elem:n,val:h,date:o})}),t.on("click",".setok",function(l){l.stopPropagation();var h,m,c,u,g,d=new Date;if(0==e.range){var p=a.gethmsVal(t);h=s?p:(c={},u=r||o?".ymcon":".daysul",g=jet.reMatch(t.find(u).find("td.actdate").attr("je-val")),$.each(g,function(e,t){c[matArr[e]]=t}),/\hh/.test(a.format)?$.extend(c,p):c)}else{var f={},v=[],Y=[[],[]];if(t.find(".timecon em").each(function(e){null==$(this).attr("disabled")&&Y[e>2?1:0].push($(this).text())}),7==jet.mlen(a.format))0!=e.range&&$.each(Y,function(e,t){var a=t.join("");f[a]=t.join(":"),v.push(a)});else a.areaVal[1]||(a.areaVal[1]=a.areaVal[0]),parseInt(a.areaVal[0].replace(/-/g,""))>parseInt(a.areaVal[1].replace(/-/g,""))&&a.areaVal.reverse(),$.each(a.areaVal,function(e,t){var n=t+(/\hh/.test(a.format)?" "+Y[e].join(":"):""),i=n.replace(/\s|-|:/g,"");f[i]=n,v.push(i)});$.each(v,function(e,t){v[e]="1"+t}),$.each(f,function(e,t){f["1"+e]=t});var j=Math.min.apply(null,v),y=Math.max.apply(null,v);h=f[j]+e.range+f[y]}if(i?(m=a.setValue(h),a.dateClose()):m=a.setValue(h,a.format,!1),0==e.range)D={YYYY:h.YYYY||d.getFullYear(),MM:jet.digit(h.MM||d.getMonth()+1),DD:jet.digit(h.DD||d.getDate()),hh:jet.digit(h.hh||d.getHours()),mm:jet.digit(h.mm||d.getMinutes()),ss:jet.digit(h.ss||d.getSeconds())};else{var M=a.setValue(h,a.format,!1),D=[];if(/=/g.test(e.range))var x=e.range.replace(/=/g,"-");else x=e.range;$.each(new Array(2),function(e,t){var n={},i=jet.reMatch(M.split(x)[e]);$.each(jet.reMatch(a.format),function(e,t){n[t]=i[e]}),D.push(n)})}($.isFunction(e.okfun)||null!=e.okfun)&&e.okfun({elem:n,val:m,date:D})})},jedfn.clickTime=function(e,t){var a=this;if(/\hh/.test(a.format)){var n=a.maincon(".timebox",1).find("ul");n.on("click","li",function(){var e=$(this),i=e.parent().attr("idx"),s=e.text();e.hasClass("disabled")||(e.addClass("action").siblings().removeClass("action"),t.find(".timecon em").eq(i).text(s),a.locateScroll(n))})}},jedfn.locateScroll=function(e){$.each(e,function(){var e=$(this),t=e.find(".action"),a=t.length>0?t[0].offsetTop-114:0;e[0].scrollTop=a})},jedfn.lunarOrien=function(e,t,a){var n,i,s=t[0].getBoundingClientRect();return i=s.right+e[0].offsetWidth/1.5>=jet.docArea(1)?s.right-e[0].offsetWidth:s.left+(a?0:jet.docScroll(1)),n=s.bottom+e[0].offsetHeight/1<=jet.docArea()?s.bottom-1:s.top>e[0].offsetHeight/1.5?s.top-e[0].offsetHeight-1:jet.docArea()-e[0].offsetHeight,{top:Math.max(n+(a?0:jet.docScroll())+1,1)+"px",left:i+"px"}},jedfn.dateOrien=function(e,t,a){var n,i,s=this.fixed?t[0].getBoundingClientRect():e[0].getBoundingClientRect(),r=s.left,o=s.bottom;if(this.fixed){var l=e.outerWidth(),h=e.outerHeight();r+l>jet.docArea(!0)&&(r=jet.docArea(!0)-l),o+h>jet.docArea()&&(o=s.top>h?s.top-h-2:jet.docArea()-h-1),n=Math.max(o+(a?0:jet.docScroll())+1,1)+"px",i=r+"px"}else n="50%",i="50%",e.css({"margin-top":-s.height/2,"margin-left":-s.width/2});e.css({top:n,left:i})},jedfn.tips=function(e,t){var a=$(jet.boxelem).find(".jedate-tips");a.html("").html(e||"").show(),clearTimeout(this.tipTime),this.tipTime=setTimeout(function(){a.html("").hide()},1e3*(t||2.5))},jedfn.dateClose=function(){0==$($(jet.boxelem).attr(jefix)).length&&$(jet.boxelem).remove()},jedfn.dateContrast=function(e,t){var a=e.split("-"),n=t.split("-");return!(parseInt(a[0]+""+jet.digit(parseInt(a[1])-1)+jet.digit(a[2]||"01"))>=parseInt(n[0]+""+jet.digit(parseInt(n[1])-1)+jet.digit(a[2]||"01")))},jedfn.delAreaAttr=function(){delete this.areaStart,delete this.areaEnd,this.areaVal=[]},jedfn.jeLunar=function(e,t,a){var n=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42448,83315,21200,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46496,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,21952,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19415,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448],i=[0,21208,43467,63836,85337,107014,128867,150921,173149,195551,218072,240693,263343,285989,308563,331033,353350,375494,397447,419210,440795,462224,483532,504758],s="甲乙丙丁戊己庚辛壬癸",r="子丑寅卯辰巳午未申酉戌亥",o="鼠牛虎兔龙蛇马羊猴鸡狗猪",l=["小寒","大寒","立春","雨水","惊蛰","春分","清明","谷雨","立夏","小满","芒种","夏至","小暑","大暑","立秋","处暑","白露","秋分","寒露","霜降","立冬","小雪","大雪","冬至"],h="日一二三四五六七八九十",m="初十廿卅",c=["正","二","三","四","五","六","七","八","九","十","十一","腊"],u={"0101":"*1元旦节","0202":"湿地日","0214":"情人节","0308":"妇女节","0312":"植树节","0315":"消费者权益日","0401":"愚人节","0422":"地球日","0501":"*1劳动节","0504":"青年节","0512":"护士节","0518":"博物馆日","0520":"母亲节","0601":"儿童节","0623":"奥林匹克日","0630":"父亲节","0701":"建党节","0801":"建军节","0903":"抗战胜利日","0910":"教师节",1001:"*3国庆节",1201:"艾滋病日",1224:"平安夜",1225:"圣诞节"},g={"0100":"除夕","0101":"*2春节","0115":"元宵节","0505":"*1端午节","0707":"七夕节","0715":"中元节","0815":"*1中秋节","0909":"*1重阳节",1015:"下元节",1208:"腊八节",1223:"小年"};return new function(e){var t=function(e,t){return new Date(31556925974.7*(e-1900)+6e4*i[t]+Date.UTC(1900,0,6,2,5)).getUTCDate()},a=function(e){var t,a=348;for(t=32768;t>8;t>>=1)a+=n[e-1900]&t?1:0;return a+p(e)},d=function(e){return s.charAt(e%10)+r.charAt(e%12)},p=function(e){return f(e)?65536&n[e-1900]?30:29:0},f=function(e){return 15&n[e-1900]},v=function(e,t){return n[e-1900]&65536>>t?30:29},Y=function(e){return e<10?"0"+(0|e):e},j=function(e,t){var a=e;return t.replace(/dd?d?d?|MM?M?M?|yy?y?y?/g,function(e){switch(e){case"yyyy":var t="000"+a.getFullYear();return t.substring(t.length-4);case"dd":return Y(a.getDate());case"d":return a.getDate().toString();case"MM":return Y(a.getMonth()+1);case"M":return a.getMonth()+1}})};this.isToday=!1,this.isRestDay=!1,this.solarYear=j(e,"yyyy"),this.solarMonth=j(e,"M"),this.solarDate=j(e,"d"),this.solarWeekDay=e.getDay(),this.inWeekDays="星期"+h.charAt(this.solarWeekDay);var y=new function(e){var t,n,i=0,s=(e-new Date(1900,0,31))/864e5;for(this.dayCyl=s+40,this.monCyl=14,t=1900;t<2050&&s>0;t++)s-=i=a(t),this.monCyl+=12;for(s<0&&(s+=i,t--,this.monCyl-=12),this.year=t,this.yearCyl=t-1864,n=f(t),this.isLeap=!1,t=1;t<13&&s>0;t++)n>0&&t==n+1&&0==this.isLeap?(--t,this.isLeap=!0,i=p(this.year)):i=v(this.year,t),1==this.isLeap&&t==n+1&&(this.isLeap=!1),s-=i,0==this.isLeap&&this.monCyl++;0==s&&n>0&&t==n+1&&(this.isLeap?this.isLeap=!1:(this.isLeap=!0,--t,--this.monCyl)),s<0&&(s+=i,--t,--this.monCyl),this.month=t,this.day=s+1}(e);this.lunarYear=y.year,this.shengxiao=o.charAt((this.lunarYear-4)%12),this.lunarMonth=y.month,this.lunarIsLeapMonth=y.isLeap,this.lnongMonth=this.lunarIsLeapMonth?"闰"+c[y.month-1]:c[y.month-1],this.lunarDate=y.day,this.showInLunar=this.lnongDate=function(e,t){var a;switch(t){case 10:a="初十";break;case 20:a="二十";break;case 30:a="三十";break;default:a=m.charAt(Math.floor(t/10)),a+=h.charAt(t%10)}return a}(this.lunarMonth,this.lunarDate),1==this.lunarDate&&(this.showInLunar=this.lnongMonth+"月"),this.ganzhiYear=d(y.yearCyl),this.ganzhiMonth=d(y.monCyl),this.ganzhiDate=d(y.dayCyl++),this.jieqi="",this.restDays=0,t(this.solarYear,2*(this.solarMonth-1))==j(e,"d")&&(this.showInLunar=this.jieqi=l[2*(this.solarMonth-1)]),t(this.solarYear,2*(this.solarMonth-1)+1)==j(e,"d")&&(this.showInLunar=this.jieqi=l[2*(this.solarMonth-1)+1]),"清明"==this.showInLunar&&(this.showInLunar="清明节",this.restDays=1),this.solarFestival=u[j(e,"MM")+j(e,"dd")],void 0===this.solarFestival?this.solarFestival="":/\*(\d)/.test(this.solarFestival)&&(this.restDays=parseInt(RegExp.$1),this.solarFestival=this.solarFestival.replace(/\*\d/,"")),this.showInLunar=""==this.solarFestival?this.showInLunar:this.solarFestival,this.lunarFestival=g[this.lunarIsLeapMonth?"00":Y(this.lunarMonth)+Y(this.lunarDate)],void 0===this.lunarFestival?this.lunarFestival="":/\*(\d)/.test(this.lunarFestival)&&(this.restDays=this.restDays>parseInt(RegExp.$1)?this.restDays:parseInt(RegExp.$1),this.lunarFestival=this.lunarFestival.replace(/\*\d/,"")),12==this.lunarMonth&&this.lunarDate==v(this.lunarYear,12)&&(this.lunarFestival=g["0100"],this.restDays=1),this.showInLunar=""==this.lunarFestival?this.showInLunar:this.lunarFestival}(new Date(e,t,a))},$.dateVer="6.0.2",$.nowDate=function(e,t){return t=t||"YYYY-MM-DD hh:mm:ss","number"==typeof e&&(e={DD:e}),jet.GetDateTime(e,t)},$.timeStampDate=function(e,t){t=t||"YYYY-MM-DD hh:mm:ss";var a=/^(-)?\d{1,10}$/.test(e)||/^(-)?\d{1,13}$/.test(e);if(/^[1-9]*[1-9][0-9]*$/.test(e)&&a){var n=parseInt(e);if(/^(-)?\d{1,10}$/.test(n))n*=1e3;else if(/^(-)?\d{1,13}$/.test(n))n*=1e3;else{if(!/^(-)?\d{1,14}$/.test(n))return void alert("时间戳格式不正确");n*=100}var i=new Date(n);return jet.parse({YYYY:i.getFullYear(),MM:jet.digit(i.getMonth()+1),DD:jet.digit(i.getDate()),hh:jet.digit(i.getHours()),mm:jet.digit(i.getMinutes()),ss:jet.digit(i.getSeconds())},t)}if(/DD-MM-YYYY/.test(t))var s=jet.reMatch(e),r=new Date(s[2],parseInt(s[1])-1,s[0],s[3]||0,s[4]||0,s[5]||0),o=Math.round(r.getTime()/1e3);else s=jet.reMatch(e),r=new Date(s[0],parseInt(s[1])-1,s[2],s[3]||0,s[4]||0,s[5]||0),o=Math.round(r.getTime()/1e3);return o},$.getCookie=function(e){for(var t=document.cookie.split("; "),a=0;a<t.length;a++){var n=t[a].split("=");if(n[0]==e)return unescape(n[1])}return!1},$.splitDate=function(e){var t=e.match(/\w+|d+/g);return{YYYY:parseInt(t[0]),MM:parseInt(t[1])||0,DD:parseInt(t[2])||0,hh:parseInt(t[3])||0,mm:parseInt(t[4])||0,ss:parseInt(t[5])||0}},$.getLunar=function(e,t){if(t=t||"YYYY-MM-DD hh:mm:ss",/YYYY-MM-DD/g.test(jet.isparmat(t))){var a=e.substr(0,4).replace(/^(\d{4})/g,"$1,")+e.substr(4).replace(/(.{2})/g,"$1,"),n=jet.isNum(e)?jet.reMatch(a):jet.reMatch(e),i=this.jeLunar(n[0],n[1]-1,n[2]);return{nMonth:i.lnongMonth,nDays:i.lnongDate,yYear:parseInt(i.solarYear),yMonth:parseInt(i.solarMonth),yDays:parseInt(i.solarDate),cWeek:i.inWeekDays,nWeek:i.solarWeekDay}}},jeDate}function DateTime(){var e=new Date;this.reDate=function(){return new DateTime},this.GetValue=function(){return e},this.GetFullYear=function(){return e.getFullYear()},this.GetMonth=function(){return e.getMonth()+1},this.GetHours=function(){return e.getHours()},this.GetDate=function(){return e.getDate()},this.GetMinutes=function(){return e.getMinutes()},this.GetSeconds=function(){return e.getSeconds()}}function jeDate(e,t){this.opts=t,this.valCell=e,this.format="",this.opts.format="",this.initdates()}alert("在引用jquery.jedate.js之前，先引用jQuery，否则无法使用 jeDate")});